---
config:
  layout: dagre
  theme: default
  look: classic
---
flowchart TD
 subgraph subGraph1["Логіка гри"]
        ActionQueue["Черга ходів"]
        GameLogic["Основна ігрова логіка"]
        GameState@{ label: "Стан гри" }
        AnimationController["Контролер Анімацій"]
        TileInteraction["Обробка взаємодії з плитками"]
        PlayerAttackLogic["Обробка атаки гравця"]
        EnemyAI["Хід ворожих істот"]
        LevelGenerator["Генератор рівнів"]
  end
 subgraph subGraph0["Користувацький інтерфейс"]
        InputHandler["Обробник введення"]
        InputDevice["Пристрої введення"]
        GameDisplay["Ігровий інтерфейс"]
        HUD@{ label: "Інформаційний дисплей" }
        subGraph1
  end
 subgraph subGraph2["Системні компоненти"]
        RenderSystem["Система рендерингу"]
        AudioSystem["Аудіо система"]
  end
    InputDevice --> InputHandler
    InputHandler  --> ActionQueue
    ActionQueue --> GameLogic
    GameLogic --> GameState
    GameLogic --> AnimationController
    GameLogic --> TileInteraction
    TileInteraction --> GameState
    GameLogic --> PlayerAttackLogic
    PlayerAttackLogic --> EnemyAI
    EnemyAI --> GameState
    LevelGenerator --> GameState
    GameState --> GameDisplay
    GameState --> HUD
    AnimationController --> GameDisplay
    GameDisplay --> RenderSystem
    GameState@{ shape: rect}
    HUD@{ shape: rect}
     ActionQueue
     GameLogic
     GameState
     AnimationController
     TileInteraction
     PlayerAttackLogic
     EnemyAI
     LevelGenerator
     InputHandler
     InputDevice
     GameDisplay
     HUD
     RenderSystem
     AudioSystem
